<h1>dictionary_coder.js</h1>
<pre><code class="lang-js"><span class="string">'use strict'</span>;

<span class="keyword">var</span> assert = require(<span class="string">'assert'</span>);

module.exports = DictionaryCoder;

<span class="function"><span class="keyword">function</span> <span class="title">DictionaryCoder</span><span class="params">(strings)</span> {</span>
    <span class="keyword">this</span>._stringToNumber = {};
    <span class="keyword">this</span>._numberToString = [];
    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; strings.length; i++) {
        <span class="keyword">var</span> string = strings[i];
        <span class="keyword">this</span>._stringToNumber[string] = i;
        <span class="keyword">this</span>._numberToString[i] = string;
    }
}

DictionaryCoder.prototype.encode = <span class="keyword">function</span>(string) {
    assert(string <span class="keyword">in</span> <span class="keyword">this</span>._stringToNumber);
    <span class="keyword">return</span> <span class="keyword">this</span>._stringToNumber[string];
};

DictionaryCoder.prototype.decode = <span class="keyword">function</span>(n) {
    assert(n &lt; <span class="keyword">this</span>._numberToString.length);
    <span class="keyword">return</span> <span class="keyword">this</span>._numberToString[n];
};
</code></pre>